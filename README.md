# First Flight #5: Santa's List

- [About](#about)
  - [SantasList](#santaslist)
    - [List Checking](#list-checking)
    - [Collecting Presents](#collecting-presents)
  - [SantaToken](#santatoken)
  - [TokenUri.sol](#tokenurisol)

# Contest Details

### Prize Pool

- High - 100xp
- Medium - 20xp
- Low - 2xp

- Starts: November 30, 2023 Noon UTC
- Ends: December 07, 2023 Noon UTC

## Stats

- nSLOC: 116
- Complexity Score: 83

[//]: # (contest-details-open)

# About
Santa has adopted blockchain technology to keep track of the naughty and nice! Hooray! So Santa hired some south pole contract elves to help build him a blockchain-based list. He'd never worked with blockchain elves before but was excited to see what they could do! They got nearly 100% test coverage, so that's got to be good, right?

The codebase is broken up into 3 contracts:
- `SantasList.sol` 
- `SantaToken.sol` 
- `TokenUri.sol`

## SantasList 
Santa's List is the main contract that stores the list of naughty and nice people. It doubles as an NFT contract that people can collect if they are `NICE` or `EXTRA_NICE`. In order for someone to be considered `NICE` or `EXTRA_NICE` they *must* be first "checked twice" by Santa. 

Once they are checked twice, `NICE` users can collect their NFT, and `EXTRA_NICE` users can collect their NFT **and** they are given `SantaToken`s. The `SantaToken` is an ERC20 that can be used to buy the NFT for their `NAUGHTY` or `UNKNOWN` friends. 

### List Checking
In this contract **Only Santa** to take the following actions:
- `checkList`: A function that changes an `address` to a new `Status` of `NICE`, `EXTRA_NICE`, `NAUGHTY`, or `UNKNOWN` on the *original* `s_theListCheckedOnce` list. 
- `checkTwice`: A function that changes an `address` to a new `Status` of `NICE`, `EXTRA_NICE`, `NAUGHTY`, or `UNKNOWN` on the *new* `s_theListCheckedTwice` list **only** if someone has already been marked on the `s_theListCheckedOnce`.

### Collecting Presents


*You can see what a Christmas NFT present looks like here!*

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" zoomAndPan="magnify" viewBox="0 0 375 374.999991" height="200" preserveAspectRatio="xMidYMid meet" version="1.0"><path fill="#af2026" d="M 298.304688 267.765625 C 302.25 270.484375 304.839844 274.839844 306.273438 279.402344 C 307.71875 283.976562 309.957031 287.96875 310.367188 292.75 C 310.425781 293.453125 288.144531 314.429688 288.363281 313.054688 C 289.007812 309.066406 290.585938 300.964844 287.882812 297.179688 C 285.542969 293.890625 280.394531 290.585938 276.363281 290.324219 C 271.652344 290.03125 267.210938 291.347656 265.660156 291.871094 C 264.109375 292.398438 267.984375 282.429688 269.140625 278.671875 C 272.882812 266.582031 287.414062 260.28125 298.304688 267.765625 " fill-opacity="1" fill-rule="nonzero"/><path fill="#3c2319" d="M 290.789062 313.726562 C 296.960938 320.613281 303.113281 327.515625 309.285156 334.398438 C 310.804688 336.09375 314.136719 337.585938 316.390625 337.234375 C 323.742188 336.050781 352.191406 306.449219 354.238281 300.292969 C 355.304688 297.0625 356.035156 293.507812 354.648438 290.410156 C 352.03125 284.605469 343.859375 283.144531 338.113281 285.921875 C 332.339844 288.714844 328.433594 295 328.480469 301.417969 C 328.492188 302.046875 319.75 292.324219 319.238281 290.996094 C 316.855469 284.855469 302.355469 309.296875 290.789062 313.726562 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f0f0ef" d="M 321.695312 286.316406 C 324.445312 288.859375 324.984375 293.171875 322.851562 295.394531 C 316.460938 302.078125 310.085938 308.742188 303.714844 315.410156 C 301.550781 317.675781 299.226562 320.027344 295.921875 320.644531 C 292.632812 321.273438 288.363281 319.285156 287.019531 315.992188 C 283.976562 308.566406 300.6875 297.367188 305.996094 291.871094 C 309.328125 288.421875 314.984375 280.105469 321.695312 286.316406 " fill-opacity="1" fill-rule="nonzero"/><path fill="#af2026" d="M 198.660156 316.316406 C 196.074219 320.335938 191.804688 323.070312 187.285156 324.664062 C 182.769531 326.257812 178.835938 328.609375 174.085938 329.179688 C 173.382812 329.253906 151.6875 307.675781 153.0625 307.851562 C 157.082031 308.347656 165.226562 309.679688 168.925781 306.855469 C 172.140625 304.402344 175.269531 299.152344 175.402344 295.101562 C 175.546875 290.394531 174.085938 285.996094 173.515625 284.460938 C 172.945312 282.925781 183.019531 286.476562 186.804688 287.515625 C 199.011719 290.863281 205.78125 305.175781 198.660156 316.316406 " fill-opacity="1" fill-rule="nonzero"/><path fill="#3c2319" d="M 152.476562 310.292969 C 145.796875 316.679688 139.101562 323.070312 132.421875 329.457031 C 130.769531 331.023438 129.394531 334.398438 129.820312 336.636719 C 131.238281 343.945312 161.761719 371.429688 167.972656 373.273438 C 171.234375 374.238281 174.800781 374.851562 177.855469 373.359375 C 183.574219 370.554688 184.773438 362.335938 181.820312 356.695312 C 178.835938 351.007812 172.417969 347.308594 166 347.558594 C 165.386719 347.585938 174.816406 338.535156 176.117188 337.980469 C 182.183594 335.410156 157.289062 321.710938 152.476562 310.292969 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f0f0ef" d="M 180.882812 340.292969 C 178.425781 343.113281 174.144531 343.800781 171.835938 341.738281 C 164.964844 335.582031 158.09375 329.414062 151.222656 323.257812 C 148.882812 321.167969 146.457031 318.917969 145.722656 315.644531 C 145.007812 312.367188 146.851562 308.054688 150.09375 306.59375 C 157.40625 303.320312 169.144531 319.648438 174.816406 324.78125 C 178.382812 327.996094 186.878906 333.375 180.882812 340.292969 " fill-opacity="1" fill-rule="nonzero"/><path fill="#af2026" d="M 180.707031 312.71875 C 213.894531 321.125 250.132812 311.214844 268.160156 302.222656 C 296.769531 287.925781 298.378906 263.980469 297.484375 262.734375 C 296.492188 261.363281 281.316406 265.457031 261.144531 267.5625 C 229.066406 270.921875 201.65625 271.523438 169.832031 275.894531 C 159.847656 277.269531 140.386719 276.84375 140.609375 282.382812 C 140.871094 289.050781 170.183594 310.042969 180.707031 312.71875 " fill-opacity="1" fill-rule="nonzero"/><path fill="#9f1b21" d="M 127.113281 151.761719 C 112.21875 156.164062 93.988281 160.738281 73.988281 180.050781 C 63.503906 190.167969 55.933594 199.976562 48.460938 212.476562 C 39.164062 228 35.773438 237.007812 35.160156 255.074219 C 34.546875 273.160156 42.101562 292.324219 57.542969 301.769531 C 74.074219 311.886719 95.464844 309.019531 113.753906 302.617188 C 121.355469 299.941406 128.898438 296.652344 134.964844 291.359375 C 152.433594 276.1875 153.210938 249.59375 150.695312 226.582031 C 149.410156 214.945312 147.640625 203.222656 147.886719 191.480469 C 148.121094 180.503906 154.570312 169.800781 154.949219 159.890625 C 155.605469 142.085938 143.195312 147.011719 127.113281 151.761719 " fill-opacity="1" fill-rule="nonzero"/><path fill="#d32731" d="M 134.421875 282.617188 C 139.363281 290.570312 181.847656 297.601562 227.722656 289.8125 C 273.582031 282.019531 313.800781 261.363281 317.835938 249.242188 C 319.488281 244.285156 310.132812 243.789062 299.808594 227.210938 C 297.078125 222.78125 294.3125 217.839844 291.742188 212.300781 L 291.347656 211.4375 C 274.269531 174.320312 281.566406 169.246094 266.363281 149.789062 C 248.628906 127.128906 211.890625 135.839844 189.085938 147.199219 C 179.480469 151.964844 164.496094 159.523438 157.8125 167.902344 C 140.957031 189.054688 147.40625 216.027344 149.351562 235.542969 C 149.757812 239.636719 149.964844 243.410156 149.730469 246.726562 C 149.511719 249.535156 148.984375 252.238281 148.253906 254.828125 C 144.042969 269.871094 130.226562 275.835938 134.421875 282.617188 " fill-opacity="1" fill-rule="nonzero"/><path fill="#af2026" d="M 273.246094 277.429688 C 264.300781 248.804688 255.367188 220.179688 246.421875 191.554688 L 244.492188 185.34375 L 247.765625 184.320312 L 249.710938 190.53125 C 258.644531 219.15625 267.574219 247.78125 276.523438 276.40625 L 273.246094 277.429688 " fill-opacity="1" fill-rule="nonzero"/><path fill="#3c2319" d="M 148.253906 254.828125 C 154.613281 255.851562 165.839844 258.101562 179.304688 258.160156 C 208.003906 258.277344 239.902344 260.691406 300.320312 228.570312 C 297.574219 224.140625 294.3125 217.839844 291.742188 212.300781 L 291.347656 211.4375 C 277.824219 218.292969 249.828125 229.082031 226.789062 232.402344 C 200.371094 236.21875 169.960938 236.800781 149.128906 232.941406 C 149.539062 237.050781 149.964844 243.410156 149.730469 246.726562 C 149.511719 249.535156 148.984375 252.238281 148.253906 254.828125 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f6ab1f" d="M 262.398438 224.625 C 261.492188 224.625 260.585938 224.753906 259.695312 225.003906 L 252.121094 227.242188 C 247.09375 228.71875 244.183594 234.023438 245.660156 239.066406 C 246.378906 241.507812 248.015625 243.527344 250.238281 244.738281 C 252.472656 245.953125 255.046875 246.246094 257.488281 245.53125 L 265.0625 243.308594 C 270.105469 241.816406 273.011719 236.523438 271.523438 231.480469 C 270.804688 229.023438 269.183594 227.007812 266.960938 225.792969 C 265.527344 225.019531 263.980469 224.625 262.398438 224.625 Z M 254.796875 249.8125 C 252.574219 249.8125 250.382812 249.257812 248.367188 248.160156 C 245.222656 246.4375 242.941406 243.601562 241.933594 240.164062 C 239.84375 233.058594 243.921875 225.574219 251.027344 223.5 L 258.597656 221.277344 C 262.050781 220.265625 265.675781 220.648438 268.816406 222.371094 C 271.976562 224.097656 274.257812 226.933594 275.265625 230.371094 C 277.355469 237.488281 273.261719 244.960938 266.15625 247.035156 L 258.585938 249.257812 C 257.339844 249.636719 256.054688 249.8125 254.796875 249.8125 " fill-opacity="1" fill-rule="nonzero"/><path fill="#3c2319" d="M 289.09375 61.328125 C 288.277344 58.769531 288.625 55.171875 291.214844 54.484375 C 293.160156 53.972656 295.015625 55.523438 296.359375 57.015625 C 297.339844 53.183594 298.917969 49.382812 301.652344 46.503906 C 304.386719 43.636719 308.421875 41.796875 312.339844 42.410156 C 316.609375 43.097656 320.101562 46.636719 321.476562 50.730469 C 322.863281 54.835938 322.382812 59.382812 320.992188 63.492188 C 319.589844 67.585938 317.324219 71.328125 315.074219 75.027344 C 314.050781 76.722656 313.011719 78.417969 311.988281 80.097656 C 311.738281 80.507812 311.460938 80.945312 311.023438 81.152344 C 310.570312 81.371094 310.03125 81.296875 309.53125 81.222656 C 304.808594 80.480469 300.101562 79.746094 295.382812 79.003906 C 290.90625 78.300781 292.472656 75.449219 292.5 72.101562 C 292.542969 68.15625 290.292969 64.980469 289.09375 61.328125 " fill-opacity="1" fill-rule="nonzero"/><path fill="#d32731" d="M 291.242188 74.71875 C 295.03125 75.144531 304.238281 78.316406 305.308594 78.664062 C 311.476562 80.640625 306.316406 119.378906 300.601562 136.71875 C 294.882812 154.042969 284.722656 170.09375 270.484375 181.277344 C 268.351562 182.960938 265.410156 184.566406 263.101562 183.121094 C 261.933594 182.390625 241.320312 135.066406 256.433594 123.0625 C 264.636719 116.558594 271.988281 111.707031 278.128906 102.757812 C 279.664062 100.507812 291.960938 74.804688 291.242188 74.71875 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f0f0ef" d="M 279.929688 70.699219 C 278.1875 72.101562 276.566406 76.3125 276.257812 78.898438 C 275.996094 81.105469 277.222656 83.285156 278.917969 84.703125 C 285.160156 89.953125 296.402344 91.824219 303.976562 94.558594 C 306.945312 95.609375 310.132812 96.691406 313.214844 96.019531 C 319.136719 94.703125 321.550781 87.90625 320.804688 82.453125 C 320.042969 77 315.863281 73.519531 311.050781 71.398438 C 303.976562 68.273438 288.554688 63.796875 279.929688 70.699219 " fill-opacity="1" fill-rule="nonzero"/><path fill="#c22329" d="M 124.832031 179.289062 C 126.792969 175.3125 128.855469 171.191406 132.390625 168.53125 C 135.929688 165.871094 141.382812 165.195312 144.582031 168.238281 C 147.15625 170.679688 147.523438 174.566406 147.742188 178.105469 C 147.945312 181.261719 148.136719 184.421875 148.328125 187.578125 C 148.605469 191.890625 148.824219 196.453125 146.820312 200.28125 C 145.035156 203.734375 141.71875 206.085938 138.53125 208.292969 C 133.679688 211.65625 128.824219 215.035156 123.984375 218.394531 C 122.15625 219.652344 119.964844 220.984375 117.875 220.238281 C 103.226562 215.078125 121.308594 186.46875 124.832031 179.289062 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f6aaa1" d="M 262.941406 73.550781 C 275.265625 112.160156 250.878906 154.453125 208.46875 167.988281 C 166.042969 181.542969 123.574219 160.023438 111.238281 121.414062 C 98.914062 82.789062 121.398438 41.679688 163.808594 28.140625 C 206.21875 14.589844 250.601562 34.925781 262.941406 73.550781 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f0f0ef" d="M 123.195312 150.769531 C 116.425781 155.59375 114.410156 165.621094 118.867188 172.257812 C 123.34375 178.894531 146.324219 167.625 153.558594 163.488281 C 149.511719 171 139.714844 194.582031 147.15625 198.703125 C 154.582031 202.839844 162.917969 201.789062 167.8125 194.773438 C 168.441406 202.386719 176.890625 207.695312 184.582031 209.433594 C 192.273438 211.175781 201.058594 207.722656 205.472656 201.246094 C 211.597656 207.226562 222.082031 208.542969 229.859375 204.316406 C 237.648438 200.078125 242.050781 190.664062 240.089844 182.402344 C 249.007812 182.988281 258.980469 182.214844 265.441406 176.074219 C 271.917969 169.933594 271.039062 157.039062 262.371094 155.050781 C 270.996094 154.816406 279.957031 150.679688 284.066406 143.269531 C 288.171875 135.871094 285.894531 125.390625 278.234375 121.777344 C 284.167969 116.691406 287.046875 108.503906 285.484375 101.136719 C 283.917969 93.765625 277.984375 87.523438 270.527344 85.390625 C 276.128906 79.644531 273.292969 71.925781 266.945312 67.277344 C 260.105469 62.261719 256.449219 64.894531 249.519531 69.074219 C 242.589844 73.269531 233.890625 86.792969 228.191406 92.464844 C 206.511719 114.089844 173.542969 122.054688 142.800781 121.222656 C 132.375 120.945312 116.265625 114.261719 108.621094 124.292969 C 96.382812 140.328125 112.84375 158.136719 123.195312 150.769531 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f04053" d="M 205.925781 105.652344 C 207.503906 110.566406 201.714844 116.820312 193.015625 119.601562 C 184.304688 122.378906 175.984375 120.636719 174.40625 115.710938 C 172.84375 110.800781 178.617188 104.554688 187.332031 101.777344 C 196.027344 99 204.363281 100.726562 205.925781 105.652344 " fill-opacity="1" fill-rule="nonzero"/><path fill="#3c2319" d="M 166.175781 109.351562 C 166.90625 111.648438 166.277344 113.898438 164.757812 114.378906 C 163.238281 114.863281 161.425781 113.402344 160.695312 111.105469 C 159.949219 108.8125 160.59375 106.542969 162.113281 106.0625 C 163.617188 105.578125 165.445312 107.054688 166.175781 109.351562 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f0f0ef" d="M 147.40625 102.289062 C 147.933594 103.3125 148.96875 104.101562 150.183594 103.929688 C 151.777344 103.707031 152.769531 102.042969 153.707031 100.902344 C 155.882812 98.242188 163.136719 98.636719 163.078125 94.175781 C 163.035156 90.609375 157.476562 90.566406 155.140625 91.195312 L 154.378906 91.429688 C 151.761719 92.335938 149.480469 94.878906 148.152344 97.21875 C 147.476562 98.371094 146.921875 99.746094 147.054688 101.105469 C 147.097656 101.5 147.214844 101.910156 147.40625 102.289062 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f0f0ef" d="M 199.40625 79.164062 C 199.480469 80.757812 200.808594 82.246094 202.519531 82.304688 C 203.574219 82.335938 204.566406 81.882812 205.53125 81.445312 C 207.34375 80.609375 209.273438 79.746094 211.234375 79.921875 C 212.8125 80.054688 214.59375 80.816406 215.867188 79.851562 C 216.65625 79.25 216.859375 78.210938 216.714844 77.320312 C 216.4375 75.449219 214.945312 73.898438 213.089844 73.167969 C 208.804688 71.488281 199.1875 73.433594 199.40625 79.164062 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f58393" d="M 163.414062 127.085938 C 164.496094 130.445312 161.105469 134.527344 155.855469 136.207031 C 150.605469 137.875 145.492188 136.515625 144.410156 133.152344 C 143.339844 129.789062 146.734375 125.710938 151.964844 124.027344 C 157.214844 122.347656 162.347656 123.722656 163.414062 127.085938 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f58393" d="M 241.757812 100.347656 C 242.824219 103.707031 239.449219 107.789062 234.199219 109.46875 C 228.953125 111.148438 223.820312 109.777344 222.753906 106.414062 C 221.683594 103.050781 225.0625 98.972656 230.3125 97.289062 C 235.558594 95.625 240.675781 96.984375 241.757812 100.347656 " fill-opacity="1" fill-rule="nonzero"/><path fill="#d32731" d="M 144.628906 180.371094 C 150.882812 175.472656 158.953125 170.519531 166.265625 173.632812 C 166.207031 179.144531 172.507812 183.382812 171.878906 188.851562 C 171.613281 191.175781 170.109375 193.148438 168.660156 195.003906 C 159.21875 207.035156 149.539062 219.289062 136.71875 227.648438 C 124.613281 235.542969 106.207031 231.847656 110.171875 213.761719 C 112.992188 200.898438 134.992188 187.914062 144.628906 180.371094 " fill-opacity="1" fill-rule="nonzero"/><path fill="#3c2319" d="M 213.25 94.324219 C 213.980469 96.617188 213.339844 98.871094 211.832031 99.351562 C 210.3125 99.835938 208.484375 98.371094 207.753906 96.078125 C 207.023438 93.78125 207.652344 91.53125 209.171875 91.035156 C 210.691406 90.550781 212.519531 92.027344 213.25 94.324219 " fill-opacity="1" fill-rule="nonzero"/><path fill="#9f1b21" d="M 142.421875 170.386719 C 151.28125 167.097656 161.441406 163.882812 169.832031 168.238281 C 170.589844 168.632812 171.484375 169.101562 172.242188 168.707031 C 172.625 168.515625 172.886719 168.136719 173.121094 167.769531 C 174.101562 166.265625 175.078125 164.773438 176.042969 163.265625 C 176.484375 162.625 176.921875 161.90625 176.878906 161.132812 C 176.789062 159.773438 175.34375 158.984375 174.085938 158.472656 C 157.976562 152.054688 138.851562 150.621094 121.75 153.457031 C 116.867188 154.261719 111.515625 158.28125 109.511719 162.800781 C 108.359375 165.417969 109.820312 165.578125 110.140625 168.429688 C 111.148438 177.300781 108.546875 188.601562 118.664062 182.550781 C 126.558594 177.828125 133.664062 173.601562 142.421875 170.386719 " fill-opacity="1" fill-rule="nonzero"/><path fill="#9f1b21" d="M 183.851562 200.152344 C 186.410156 200.328125 186.277344 196.132812 186.804688 195.679688 C 189.84375 193.0625 193.238281 200.429688 195.839844 199.316406 C 198.0625 198.382812 196.644531 196.304688 196.863281 194.960938 C 197.300781 192.332031 198.660156 192.667969 200.019531 192.726562 C 200.882812 192.753906 201.671875 193.207031 202.519531 193.367188 C 205.195312 193.894531 206.570312 191.453125 205.632812 188.878906 C 205.28125 187.886719 203.980469 185.460938 205.0625 184.625 C 206.410156 183.589844 209.476562 185.371094 209.640625 184.113281 C 209.785156 182.871094 208.96875 181.714844 208.117188 180.78125 C 204.652344 176.964844 200.152344 174.277344 195.707031 171.644531 C 189.523438 167.972656 180.621094 159.335938 181.453125 171.191406 C 182.125 180.796875 180.691406 199.933594 183.851562 200.152344 " fill-opacity="1" fill-rule="nonzero"/><path fill="#9f1b21" d="M 121.03125 187.753906 C 121.75 186.597656 122.449219 185.429688 123.195312 184.304688 C 126.527344 179.347656 131.148438 175.371094 136.265625 172.300781 C 130.828125 171.730469 125.433594 174.773438 122.128906 179.128906 C 118.957031 183.308594 116.851562 189.261719 116.703125 194.507812 C 117.816406 192.066406 119.601562 190.035156 121.03125 187.753906 " fill-opacity="1" fill-rule="nonzero"/><path fill="#7f181b" d="M 169.597656 163.96875 C 165.839844 161.820312 161.292969 160.929688 156.996094 160.8125 C 152.476562 160.695312 147.988281 161.453125 143.675781 162.742188 C 139.117188 164.085938 134.730469 166 130.417969 168.019531 C 125.914062 170.125 121.425781 172.300781 116.925781 174.449219 C 112.347656 176.628906 107.773438 178.835938 103.195312 181.03125 C 102.625 181.308594 102.054688 181.585938 101.488281 181.863281 C 100.84375 182.183594 101.398438 183.132812 102.054688 182.828125 C 106.589844 180.722656 111.105469 178.558594 115.625 176.394531 C 120.097656 174.261719 124.554688 172.113281 129.042969 169.992188 C 133.269531 167.972656 137.523438 166.015625 141.96875 164.523438 C 146.222656 163.105469 150.605469 162.125 155.09375 161.996094 C 159.335938 161.878906 163.660156 162.492188 167.566406 164.21875 C 168.0625 164.4375 168.558594 164.671875 169.054688 164.90625 C 169.683594 165.195312 170.210938 164.320312 169.597656 163.96875 " fill-opacity="1" fill-rule="nonzero"/><path fill="#7f181b" d="M 171.789062 162.40625 C 168.207031 160.125 164.277344 158.414062 160.195312 157.242188 C 156.132812 156.089844 151.894531 155.503906 147.683594 155.535156 C 143.09375 155.5625 138.5625 156.394531 134.144531 157.582031 C 129.644531 158.777344 125.199219 160.242188 120.785156 161.703125 C 116.382812 163.136719 112.027344 164.714844 107.875 166.746094 C 107.347656 166.996094 106.835938 167.257812 106.324219 167.519531 C 105.683594 167.859375 106.253906 168.824219 106.910156 168.5 C 110.960938 166.453125 115.230469 164.847656 119.527344 163.382812 C 123.882812 161.921875 128.285156 160.503906 132.699219 159.230469 C 137.027344 158.003906 141.457031 156.996094 145.972656 156.789062 C 150.125 156.585938 154.304688 156.996094 158.355469 157.976562 C 162.902344 159.070312 167.230469 160.914062 171.207031 163.382812 C 171.835938 163.777344 172.402344 162.800781 171.789062 162.40625 " fill-opacity="1" fill-rule="nonzero"/><path fill="#7f181b" d="M 191.480469 189.070312 C 190.09375 184.113281 187.785156 179.421875 184.773438 175.269531 C 183.910156 174.101562 183.03125 172.871094 182.007812 171.847656 C 181.570312 171.425781 180.738281 172.007812 181.132812 172.507812 C 181.890625 173.5 182.738281 174.4375 183.484375 175.445312 C 184.246094 176.46875 184.960938 177.519531 185.621094 178.601562 C 186.949219 180.738281 188.089844 183.003906 189.027344 185.34375 C 189.566406 186.65625 190.019531 187.988281 190.445312 189.347656 C 190.648438 190.019531 191.671875 189.742188 191.480469 189.070312 " fill-opacity="1" fill-rule="nonzero"/><path fill="#7f181b" d="M 194.960938 180.519531 C 193.484375 178.691406 191.789062 177.007812 190.0625 175.414062 C 188.324219 173.808594 186.496094 172.316406 184.597656 170.914062 L 183.835938 171.101562 L 184.042969 171.863281 C 185.898438 173.238281 187.667969 174.730469 189.363281 176.308594 C 191.058594 177.886719 192.621094 179.582031 194.1875 181.292969 C 194.667969 181.820312 195.398438 181.058594 194.960938 180.519531 " fill-opacity="1" fill-rule="nonzero"/><path fill="#7f181b" d="M 197.039062 175.035156 C 194.84375 173.835938 192.578125 172.753906 190.34375 171.628906 C 188.105469 170.503906 185.882812 169.378906 183.632812 168.28125 C 183.003906 167.988281 182.460938 168.894531 183.078125 169.21875 C 185.296875 170.371094 187.535156 171.496094 189.773438 172.625 C 192.007812 173.75 194.214844 174.917969 196.496094 175.972656 C 197.109375 176.265625 197.667969 175.371094 197.039062 175.035156 " fill-opacity="1" fill-rule="nonzero"/><path fill="#3c2319" d="M 163.675781 163.035156 C 164.128906 162.550781 165.636719 161.878906 166.277344 162.054688 C 167.40625 162.359375 167.007812 164.304688 166.820312 165.109375 C 166.441406 163.691406 167.683594 162.390625 168.882812 161.527344 C 170.824219 160.125 172.972656 158.953125 175.328125 158.472656 C 177.683594 158.003906 180.238281 158.28125 182.257812 159.582031 C 184.15625 160.824219 185.402344 162.886719 186.117188 165.035156 C 187.449219 169.011719 187.066406 173.53125 185.109375 177.230469 C 183.132812 180.941406 179.613281 183.777344 175.578125 184.917969 C 174.84375 185.136719 161.863281 173.457031 161.148438 172.460938 C 159.65625 170.386719 161.703125 165.125 163.675781 163.035156 " fill-opacity="1" fill-rule="nonzero"/><path fill="#deddda" d="M 150.8125 168.996094 C 148.882812 169.4375 146.046875 172.113281 144.863281 174.011719 C 143.867188 175.636719 144.101562 177.796875 144.992188 179.539062 C 148.269531 185.984375 156.863281 191.671875 162.140625 196.644531 C 164.203125 198.585938 166.441406 200.632812 169.21875 201.261719 C 174.566406 202.460938 178.984375 198.074219 180.296875 193.542969 C 181.613281 189.011719 179.421875 184.726562 176.207031 181.261719 C 171.484375 176.175781 160.371094 166.878906 150.8125 168.996094 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f6ab1f" d="M 163.164062 152.640625 C 158.382812 155.636719 156.089844 161.25 156.863281 166.730469 C 157.140625 168.765625 160.738281 168.3125 160.460938 166.25 C 159.917969 162.140625 161.601562 158.195312 165.023438 155.824219 C 166.964844 154.496094 165.195312 151.367188 163.164062 152.640625 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f6ab1f" d="M 157.859375 163.046875 C 156.601562 160.109375 156.542969 156.9375 157.113281 153.851562 C 157.523438 151.558594 154.21875 150.5625 153.558594 152.871094 C 152.40625 156.894531 153.09375 161.105469 154.757812 164.859375 C 155.710938 166.980469 158.765625 165.136719 157.859375 163.046875 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f6ab1f" d="M 141.03125 176.21875 C 138.984375 177.929688 136.878906 179.582031 134.714844 181.175781 C 132.625 182.738281 130.476562 184.507812 128.121094 185.679688 C 126.71875 186.378906 123.75 186.527344 124.964844 184.1875 C 125.988281 182.226562 127.699219 180.460938 129.234375 178.894531 C 132.464844 175.648438 136.28125 173.046875 140.445312 171.132812 C 143.355469 169.800781 146.441406 168.882812 149.582031 168.339844 C 146.777344 171 144.027344 173.71875 141.03125 176.21875 Z M 155.402344 164.070312 C 144.421875 163.882812 133.503906 168.632812 125.945312 176.554688 C 124.085938 178.484375 121.691406 180.957031 120.871094 183.558594 C 120.007812 186.277344 121.457031 188.878906 124.085938 189.84375 C 126.808594 190.855469 129.511719 189.65625 131.777344 188.148438 C 134.421875 186.394531 136.980469 184.496094 139.496094 182.566406 C 142.316406 180.386719 145.050781 178.105469 147.710938 175.722656 C 150.476562 173.253906 153.324219 170.722656 155.664062 167.828125 L 155.722656 167.769531 C 157.785156 167.40625 157.683594 164.101562 155.402344 164.070312 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f6ab1f" d="M 157.464844 181 C 157.300781 183.457031 157.070312 185.898438 156.761719 188.339844 C 156.5 190.355469 156.277344 192.460938 155.636719 194.40625 C 155.242188 195.546875 154.511719 197.109375 153.105469 197.125 C 151.074219 197.140625 150.167969 194.699219 149.964844 193.074219 C 149.453125 188.953125 150.269531 184.347656 151.324219 180.371094 C 152.550781 175.738281 154.597656 171.335938 157.550781 167.535156 C 157.769531 172.023438 157.742188 176.511719 157.464844 181 Z M 161.351562 166.25 C 161.234375 164.1875 158.515625 163.835938 157.710938 165.226562 C 157.140625 164.246094 155.871094 163.75 154.933594 164.859375 C 151.585938 168.894531 149.234375 173.601562 147.800781 178.632812 C 146.425781 183.441406 145.433594 189.097656 146.222656 194.085938 C 146.9375 198.617188 151.777344 203.175781 156.324219 199.976562 C 160.269531 197.199219 160.359375 190.925781 160.839844 186.644531 C 161.601562 179.875 161.761719 173.0625 161.351562 166.25 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f6ab1f" d="M 162.214844 163.472656 L 162.023438 163.035156 L 161.558594 162.523438 L 161.160156 162.289062 L 160.460938 162.140625 L 159.976562 162.199219 L 159.539062 162.390625 L 159.027344 162.859375 L 158.707031 163.472656 L 158.632812 164.160156 L 158.632812 164.40625 L 158.792969 165.109375 L 159.175781 165.707031 L 159.757812 166.089844 L 160.460938 166.234375 L 160.941406 166.175781 L 161.746094 165.707031 C 162.070312 165.34375 162.273438 164.90625 162.273438 164.40625 L 162.273438 164.160156 L 162.214844 163.472656 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f6ab1f" d="M 159.875 154.335938 C 158.398438 157.59375 157.769531 161.292969 158.207031 164.875 C 158.488281 167.113281 161.953125 167.242188 161.820312 164.875 C 161.644531 161.660156 162.082031 158.75 163.105469 155.695312 C 163.734375 153.824219 160.707031 152.507812 159.875 154.335938 " fill-opacity="1" fill-rule="nonzero"/><path fill="#b72225" d="M 198.804688 136.074219 C 195.925781 139.277344 191.613281 141.015625 187.300781 140.402344 C 183.148438 139.789062 179.566406 137.085938 177.636719 133.414062 C 176.773438 131.777344 174.332031 133.210938 175.167969 134.863281 C 177.449219 139.378906 181.890625 142.667969 186.921875 143.398438 C 192.125 144.144531 197.460938 142.128906 200.96875 138.253906 C 202.285156 136.792969 200.121094 134.613281 198.804688 136.074219 " fill-opacity="1" fill-rule="nonzero"/><path fill="#d32731" d="M 209.726562 2.761719 C 201.644531 0.4375 193.148438 -0.101562 184.742188 0.015625 C 158.28125 0.410156 128.445312 7.351562 113.925781 32.175781 C 107.800781 42.660156 101.675781 53.125 95.550781 63.59375 C 87.203125 77.875 78.796875 92.234375 68.125 104.863281 C 57.453125 117.496094 44.3125 128.445312 28.785156 134.160156 C 33.492188 134.847656 33.988281 142.902344 38.683594 143.691406 C 40.363281 143.96875 42 143.152344 43.507812 142.332031 C 60.171875 133.238281 75.363281 121.441406 88.285156 107.523438 C 89.996094 105.667969 91.78125 103.722656 94.148438 102.832031 C 99.484375 100.859375 104.953125 105.023438 109.132812 108.882812 C 127.917969 85.742188 153.707031 68.375 182.199219 59.660156 C 194.773438 55.816406 207.78125 53.652344 220.808594 52.058594 C 228.894531 51.078125 244.855469 53.140625 247.605469 43.097656 C 252.371094 25.597656 223.015625 6.578125 209.726562 2.761719 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f0f0ef" d="M 118.3125 118.253906 C 130.285156 103.753906 148.558594 88.007812 165.8125 80.507812 C 185.632812 71.882812 198.820312 65.933594 217.941406 65.492188 C 225.984375 65.320312 236.496094 65.347656 244.476562 66.3125 C 251.421875 67.160156 259.929688 67.058594 263.570312 61.09375 C 267.035156 55.40625 263.335938 47.527344 257.515625 44.265625 C 251.714844 41.019531 235.601562 35.933594 228.964844 36.460938 C 192.636719 39.3125 161.730469 48.855469 130.667969 68.828125 C 119.03125 76.296875 107.65625 88.445312 100.492188 100.375 C 92.320312 114 108.78125 129.773438 118.3125 118.253906 " fill-opacity="1" fill-rule="nonzero"/><path fill="#f0f0ef" d="M 21.167969 142.667969 C 23.375 151.703125 32.894531 157.128906 42.425781 154.800781 C 51.957031 152.476562 57.890625 143.269531 55.699219 134.234375 C 53.492188 125.199219 43.972656 119.773438 34.441406 122.097656 C 24.910156 124.425781 18.976562 133.632812 21.167969 142.667969 " fill-opacity="1" fill-rule="nonzero"/></svg>

The following functions are meant to be called by people, but only those marked `NICE` or `EXTRA_NICE` can benefit from them.

- `collectNFT`: A function that allows a `NICE` or `EXTRA_NICE` user to collect their NFT. `EXTRA_NICE` users also receive `SantaToken` which is used to purchase an additional NFTs. An address is only allowed to collect 1 NFT per address, there is a check in the codebase to prevent someone from minting duplicate NFTs. 
- `buyPresent`: A function that trades `2e18` of `SantaToken` for an NFT. This function can be called by anyone. 

## SantaToken
This codebase is based off [solmate](https://github.com/transmissions11/solmate) a Modern, opinionated, and gas optimized building blocks for smart contract development. The ERC20 is a typical ERC20 with the following changes:
- Only `SantasList` can mint tokens
- Only `SantasList` can burn tokens (well, technically anyone can, but only `SantasList` can call the burn function)

## TokenUri.sol
A minimal contract that exclusively has the tokenURI. It's a separate contract inherited by `SantasList` for readability purposes. 

## Roles

- `Santa` - Deployer of the protocol, should only be able to do 2 things:
  - `checkList` - Check the list once
  - `checkTwice` - Check the list twice
  - Additionally, it's OK if Santa mints themselves tokens. 
- `User` - Can buyPresents and mint NFTs depending on their status of NICE, NAUGHTY, EXTRA-NICE or UNKNOWN

[//]: # (contest-details-close)

[//]: # (getting-started-open)

# Getting Started

## Requirements

- [git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)
  - You'll know you did it right if you can run `git --version` and you see a response like `git version x.x.x`
- [foundry](https://getfoundry.sh/)
  - You'll know you did it right if you can run `forge --version` and you see a response like `forge 0.2.0 (816e00b 2023-03-16T00:05:26.396218Z)`

## Quickstart

```
git clone https://github.com/Cyfrin/2023-11-Santas-List
cd 2023-11-Santas-List
make
```

Or optionally, you can run:
```
forge install
forge build
```

# Usage

## Testing

```
forge test
```

### Test Coverage

```
forge coverage
```

and for coverage based testing:

```
forge coverage --report debug
```

[//]: # (getting-started-close)

[//]: # (scope-open)

# Audit Scope Details

- Commit Hash: 91c8f8c94a9ff2db91f0ab2b2742cf1739dd6374
- In Scope:

```
./src/
#-- SantaToken.sol
#-- SantasList.sol
#-- TokenUri.sol
```

## Compatibilities

- Solc Version: 0.8.22
- Chain(s) to deploy contract to: 
  - Arbitrum
- Tokens
  - `SantaToken`

[//]: # (scope-close)

[//]: # (known-issues-open)

## Known Issues

- We are aware that we are missing a number of zero address checks, please ignore.
- The Christmas date is approximate, if it's more then 24 hours before or after Christmas, please report that. Otherwise, it's OK.

[//]: # (known-issues-close)
